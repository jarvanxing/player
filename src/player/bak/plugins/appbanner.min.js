(function(a,c){var b={modId:"",vid:"",width:"100%",height:"57px",text1:"客户端",text:"可观看更多视频",btnText:["安装","打开","升级"],style:'<style type="text/css">.x_download_app{overflow:hidden;margin:0px;height:55px;position:relative;background-color:#f8f7f5;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1),inset 0 1px rgba(255,255,255,.26);-moz-box-shadow:0 1px 1px rgba(0,0,0,.1),inset 0 1px rgba(255,255,255,.26);box-shadow:0 1px 1px rgba(0,0,0,.1),inset 0 1px rgba(255,255,255,.26);border:1px solid #cbcbcb;}.x_mod_message{position:absolute;top:50%;left:50%;width:300px;height:160px;margin:-80px 0 0 -150px;text-align:center;z-index:1000}.x_mod_message a{color:#E0E0E0;text-decoration:underline}.x_mod_message a:hover{color:#f90}.x_mod_message h2{line-height:30px;margin:70px 0 0 0;padding:0;font-size:14px;font-weight:normal;color:#FB9100}.x_message_hack h2{margin-top:40px;}.x_fixRight{margin-right:0px;}.x_btn_download_app{color:#383838;text-decoration:none;display:block;height:100%;}.x_btn_download_text{vertical-align:middle;display:inline-block;color:#383838;text-shadow:0 1px #fff;font-size:14px;width:50%;margin-top:2px;}.x_btn_download_text p{margin:0;padding:0;line-height:18px;}.x_btn_download_btn{position:absolute;right:10px;top:12px;width:60px;height:30px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;background-color:#36383a;-webkit-box-shadow:0 2px 3px rgba(0,0,0,.2),inset 0 1px rgba(255,255,255,.2);-moz-box-shadow:0 2px 3px rgba(0,0,0,.2),inset 0 1px rgba(255,255,255,.2);box-shadow:0 2px 3px rgba(0,0,0,.2),inset 0 1px rgba(255,255,255,.2);border:solid 1px #1f2226;font-size:15px;color:#fff;text-shadow:0 1px 1px rgba(4,0,0,.24);text-align:center;line-height:30px;}.x_btn_download_icon{display:inline-block;vertical-align:middle;height:100%;}.x_btn_download_icon i{display:inline-block;margin:13px 5px 0 10px;width:32.5px;height:30px;background-repeat:no-repeat;background-size:contain;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAA8CAYAAAA5S9daAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxQjU1NzJBNDExQUUxMUUzQTlGRjg1MjY1MkY3QzU5NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxQjU1NzJBNTExQUUxMUUzQTlGRjg1MjY1MkY3QzU5NCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFCNTU3MkEyMTFBRTExRTNBOUZGODUyNjUyRjdDNTk0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFCNTU3MkEzMTFBRTExRTNBOUZGODUyNjUyRjdDNTk0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+9wpGBwAACbpJREFUeNrUWw1w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)</style>',tpl:['<div data-role="box" class="x_download_app" style="display:none">','   <a data-role="a" class="x_btn_download_app" href="${url}" ${iframe}>','		<div class="x_btn_download_icon">',"			<i></i>","		</div>",'		<div class="x_btn_download_text"><p class="download_title">${text1}</p><p class="download_title">${text}</p></div>','		<div class="x_btn_download_btn">',"			<span>${btnText}</span>","		</div>","	</a>","</div>"].join("")};
function d(g,f){if(!g||c.type(f)!=="object"){return;}for(var e in f){g=g.replace("${"+e+"}",f[e]);}return g;}c.extend(c,{createAppBannerResult:function(i){var l=null,m=4,p=false,j=1,g=c.os.iphone?1:0,i=i||{},e=c.Deferred();
function h(){if(c.browser.WeChat){m=1;}if(c.browser.MQQ){m=3;}if(c.browser.MQQClient&&g){m=2;}}o();function o(){h();if(m==1){document.addEventListener("WeixinJSBridgeReady",function(){p=true;
});l=setTimeout(function(){j=2;k(0);p=true;},5000);q();return;}if(m==3){n();return;}if(m==2){f();return;}k(0);}function n(){if(!c.os.iphone&&window.x5mtt){var r=window.x5mtt.isApkInstalled('{"packagename": "com.tencent.qqlive"}');
k(r!=-1?1:0);}else{k(0);}}function f(){function r(){mqq.app.isAppInstalled("tenvideo2://can_open_me_if_install_and_regeister_this_scheme",function(s){s?k(1):function(){mqq.app.isAppInstalled("tenvideo://can_open_me_if_install_and_regeister_this_scheme",function(t){k(t?2:0);
});}();});}if(typeof mqq!="undefined"){r();}else{a.$.getScript("http://pub.idqqimg.com/qqmobile/qqapi.js",function(){r();});}}function q(){if((window==top&&typeof WeixinJSBridge=="undefined")||(window!=top&&typeof parent.WeixinJSBridge=="undefined")){if(!p){setTimeout(function(){q();
},100);}return;}clearTimeout(l);if(window!=top){WeixinJSBridge=parent.WeixinJSBridge;}if(typeof WeixinJSBridge.invoke=="undefined"){k(0);return;}if(c.os.iphone){WeixinJSBridge.invoke("getInstallState",{packageName:"com.tencent.live4iphone",packageUrl:"tenvideo2://can_open_me_if_install_and_regeister_this_scheme"},function(s){var r=s.err_msg;
if(r.indexOf("get_install_state:yes")>-1){k(1);}else{WeixinJSBridge.invoke("getInstallState",{packageName:"com.tencent.live4iphone",packageUrl:"tenvideo://can_open_me_if_install_and_regeister_this_scheme"},function(t){r=t.err_msg;
if(r.indexOf("get_install_state:yes")>-1){k(2);}else{k(0);}});}});}else{WeixinJSBridge.invoke("getInstallState",{packageName:"com.tencent.qqlive",packageUrl:"tenvideo://can_open_me_if_install_and_regeister_this_scheme"},function(u){var t=u.err_msg;
if(t.indexOf("get_install_state:yes")>-1){var s=t.split("yes_"),r=0;if(s.length>=2){r=parseInt(s[1],10);}r=isNaN(r)?0:r;if(r>=5613){k(1);}else{k(2);}}else{k(0);
}});}}function k(s){var r="";if(s==1){vid=i.vid?encodeURIComponent(i.vid):"${vid}";if(g){r=s==1?("tenvideo2://?action=5&video_id="+vid):"tenvideo://";if(m==1&&s==1){r+="&callback=weixin%3A%2F%2F&sender=%e5%be%ae%e4%bf%a1";
}else{if(c.browser.MQQClient&&s==1){r+="&callback=mqqapi%3A%2F%2F&sender=%E6%89%8B%E6%9C%BAQQ";}else{if(m==3&&s==1){r+="&callback=mqqbrowser%3A%2F%2F&sender=QQ%E6%B5%8F%E8%A7%88%E5%99%A8";
}}}}else{r="tenvideo2://?action=5&video_id="+vid;}}else{if(g){r="http://itunes.apple.com/cn/app/id458318329?mt=8";}else{if(c.browser.MQQClient){r="http://3g.v.qq.com/d/downapp.html?ptag=205";
}else{if(m==1){r=i.downloadUrl||"http://3g.v.qq.com/d/downapp.html?ptag=231";}else{r="http://mcgi.v.qq.com/commdatav2?cmd=4&confid=140&platform=aphone";
}}}}e.resolve({hasApp:s,apptype:m,os:g,tjTimeout:j,url:r});}return e;},createAppBanner:function(i){var o=c.extend({isAutoReport:true},b,i),k=c("#"+o.modId),n=o.btnText[0],h=o.text1,p=i.text,l=o.tpl||b.tpl,g="javascript:;",e=c.Deferred();
info="";if(o.style!="none"){c("head").append(o.style||b.style);}q();function q(){var u=false;if(p){m();}else{var t=setTimeout(function(){u=true;m();},3000);
c.ajax({url:"http://sns.video.qq.com/fcgi-bin/dlib/dataout_ex?auto_id=906&vid="+o.vid+"&otype=json&_rnd_="+new Date().valueOf(),dataType:"jsonp"}).done(function(v){clearTimeout(t);
if(!u){(v&&v.text2)?p=v.text2:"";m();}}).fail(function(){clearTimeout(t);if(!u){m();}});}}function m(){c.createAppBannerResult(i).done(function(t){info=t;
g=t.url;t.hasApp>0?n=o.btnText[t.hasApp]:"";r();j();});}function s(v){var t=info.hasApp==0?1:(info.hasApp==1?2:3),w=c.os.iphone?2:1,u=v==0?3518:3519;var x={itype:w,ctype:t,cmd:u,int1:info.apptype,int3:info.tjTimeout,url:window!=top?document.referrer:document.location.href,_:new Date().getTime()};
x=c.extend(x,o.reportParams||{});return x;}function f(t){var u=s(t);a.report(u);}function j(){var t=k.find("[data-role=a]");t.on(c.os.hasTouch?"tap":"click",function(){f(1);
});}function r(){h=n+h;if(!p){o.defaultText?p=o.defaultText:p=b.text;}l=d(l,{text1:c.filterXSS(h),text:c.filterXSS(p),btnText:c.filterXSS(n),url:c.filterXSS(g),iframe:window!=top?'target="_parent"':""});
k.append(l);var t=k.find("[data-role=box]");if((c.os.android&&window.screen.width>480)||(c.os.iphone&&window.screen.width<=320)){t.addClass("x_fixRight");
}t.show();if(o.isAutoReport){f(0);}e.resolve(s(0));}return e;}});})(x,x.$);(function(a,b){b.extend(a.Player.fn,{buildAppBanner:function(c){var d=this,e=d.$mod,f="mod_down_"+d.playerid;
e.append('<div id="'+f+'"></div>');e.height(parseInt(e.height())+57);b.createAppBanner({modId:f,vid:d.curVideo.getVid(),text:!!c.text?c.text:"",style:c.style||"",isAutoReport:true,tpl:c.tpl||""});
}});})(x,x.$);